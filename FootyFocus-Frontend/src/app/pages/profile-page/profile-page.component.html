<div class="profile-container">
  <h2>User Profile</h2>

  <div *ngIf="!isEditing" class="profile-info">
    <img [src]="user.profilePicUrl || 'assets/default-profile.png'" alt="Profile Picture" class="profile-pic">
    <p><strong>First Name:</strong> {{ user.firstname }}</p>
    <p><strong>Last Name:</strong> {{ user.lastname }}</p>
    <p><strong>Email:</strong> {{ user.email }}</p>
    <p><strong>Bio:</strong> {{ user.bio || 'No bio available' }}</p>
    <button (click)="toggleEdit()" class="edit-btn">Edit Profile</button>
    <button class="edit-btn" (click)="logout()">Logout</button>
  </div>

  <form *ngIf="isEditing" class="edit-form" (ngSubmit)="saveProfile()">
    <div class="form-group">
      <label for="profile-pic">Profile Picture:</label>
      <input type="file" id="profile-pic" accept="image/*" (change)="onFileSelected($event)">
    </div>

    <div class="form-group">
      <label for="firstname">First Name:</label>
      <input type="text" id="firstname" [(ngModel)]="user.firstname" name="firstname" required>
    </div>

    <div class="form-group">
      <label for="lastname">Last Name:</label>
      <input type="text" id="lastname" [(ngModel)]="user.lastname" name="lastname" required>
    </div>

    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" [ngModel]="user.email" name="email" disabled>
    </div>

    <div class="form-group">
      <label for="bio">Bio:</label>
      <textarea id="bio" [(ngModel)]="user.bio" name="bio" rows="4"></textarea>
    </div>

    <div class="button-group">
      <button type="submit" class="save-btn">Save Changes</button>
      <button type="button" (click)="toggleEdit()" class="cancel-btn">Cancel</button>
    </div>
  </form>
</div>
